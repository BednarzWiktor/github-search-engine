(this["webpackJsonpgithub-search-engine"]=this["webpackJsonpgithub-search-engine"]||[]).push([[0],{35:function(e,r,t){e.exports={container:"Search_container__1vJAR",option:"Search_option__2X2jn",filters:"Search_filters__F1GTs"}},57:function(e,r,t){e.exports={container:"src_container__2F7_i",header:"src_header__3biWK",headerMain:"src_headerMain__3Fdo8",headerSub:"src_headerSub__1lzre",search:"src_search__1shP7"}},84:function(e,r,t){e.exports=t(99)},99:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),c=t(11),o=t.n(c),s=t(142),u=t(140),i=t(100),l=t(51),p=t(20),f=t(36),m=t(38),d={result:{users:[],repos:[]},isLoading:!1,error:{users:null,repos:null}},h=Object(f.b)({name:"search",initialState:d,reducers:{setResultByTarget:function(e,r){var t=r.payload,n=t.target,a=t.result;e.result[n]=a},setIsLoading:function(e,r){var t=r.payload.isLoading;e.isLoading=t},setErrorByTarget:function(e,r){var t=r.payload,n=t.target,a=t.error;e.error[n]=a}}}),g=h.actions,b=g.setResultByTarget,v=g.setIsLoading,y=g.setErrorByTarget,E=h.reducer,_={search:d},O=Object(p.c)({search:E}),j=Object(f.a)({reducer:O,devTools:!1,preloadedState:_,middleware:[m.a]}),w=t(43),x=t(23),S=t(45),k=function(e){return 403===e.status?"Too many requests, please wait before continuing search":(console.error(e),null)},L=Object(x.a)((function(e){return e.search.result.users}),(function(e){return e.search.result.repos}),(function(e){return e.search.isLoading}),(function(e,r,t){var n,a=(n=e)&&Array.isArray(n)?n.map((function(e){return{origin:"user",url:e.html_url,name:e.login}})):[],c=function(e){return e&&Array.isArray(e)?e.map((function(e){return{origin:"repo",url:e.html_url,name:e.name}})):[]}(r);return t?[]:Object(S.sortBy)([].concat(Object(w.a)(a),Object(w.a)(c)),(function(e){return e.name.toLowerCase()})).slice(0,50)})),R=Object(x.a)((function(e){return e.search.error.users}),(function(e){return e.search.error.repos}),(function(e,r){return e||r})),B=t(13),T=t.n(B),C=t(21),A=t(71),N=function(){var e=new A.a({baseUrl:"https://api.github.com"});return{getUsersByQuery:function(){var r=Object(C.a)(T.a.mark((function r(t){var n,a,c,o=arguments;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:50,r.prev=1,r.next=4,e.search.users({q:"".concat(t,"+in:login"),per_page:n});case 4:return a=r.sent,c=a.data,r.abrupt("return",{payload:c,error:null});case 9:return r.prev=9,r.t0=r.catch(1),r.abrupt("return",{payload:null,error:k(r.t0)});case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),getReposByQuery:function(){var r=Object(C.a)(T.a.mark((function r(t){var n,a,c,o=arguments;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:50,r.prev=1,r.next=4,e.search.repos({q:"".concat(t,"+in:name"),per_page:n});case 4:return a=r.sent,c=a.data,r.abrupt("return",{payload:c,error:null});case 9:return r.prev=9,r.t0=r.catch(1),r.abrupt("return",{payload:null,error:k(r.t0)});case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}}(),I=function(){var e=Object(C.a)(T.a.mark((function e(r,t){var n,a,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="users"===t?N.getUsersByQuery:N.getReposByQuery,e.next=3,n(r);case 3:if(a=e.sent,c=a.payload,o=a.error,!c){e.next=10;break}return e.abrupt("return",b({target:t,result:c.items}));case 10:return e.abrupt("return",y({target:t,error:o}));case 11:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),U=t(17),q=t(138),F=t(145),Q=t(143),W=t(148),G=t(144),J=t(146),M=t(133),H=t(137),z=function(e){switch(e.origin){case"repo":return a.a.createElement(M.a,null);case"user":return a.a.createElement(H.a,null);default:return null}},K=t(35),P=t.n(K),V=function(e){var r=e.combinedResults,t=e.getSearchResults,c=e.clearSearchResults,o=e.isLoading,s=e.error,u=e.clearError,l=Object(n.useState)(null),p=Object(U.a)(l,2),f=p[0],m=p[1],d=Object(n.useState)(""),h=Object(U.a)(d,2),g=h[0],b=h[1],v=Object(n.useState)(["users","repos"]),y=Object(U.a)(v,2),E=y[0],_=y[1],O=Object(n.useCallback)(Object(S.debounce)((function(e,r){return t(e,r)}),500),[]),j=function(){u()},x=function(e){return function(){var r=function(e,r){return e&&Array.isArray(e)?e.includes(r)?e.filter((function(e){return e!==r})):[].concat(Object(w.a)(e),[r]):[]}(E,e);b(""),c(),_(r)}};return Object(n.useEffect)((function(){f&&window.open(f.url,"_blank")}),[f]),a.a.createElement("div",{className:P.a.container},a.a.createElement("aside",{className:P.a.filters},a.a.createElement(i.a,{variant:"body1",component:"span"},"Search within:"),a.a.createElement("span",{className:P.a.filtersControls},a.a.createElement(q.a,{label:"Users",control:a.a.createElement(F.a,{checked:E.includes("users"),onChange:x("users"),name:"Users",color:"primary"})}),a.a.createElement(q.a,{label:"Repos",control:a.a.createElement(F.a,{checked:E.includes("repos"),onChange:x("repos"),name:"Repos",color:"primary"})}))),a.a.createElement("main",{className:P.a.input},a.a.createElement(G.a,{value:f,onChange:function(e,r,t){m(r),"clear"===t&&c()},inputValue:g,onInputChange:function(e,r){s&&u(),b(r),r&&r.length>=3&&E&&E.length>0&&O(r,E)},options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.url===(f&&f.url)},clearOnBlur:!1,loading:!!o,loadingText:"Fetching data...",disabled:0===E.length,renderInput:function(e){return a.a.createElement(Q.a,Object.assign({},e,{error:!!s,label:"Search GitHub",variant:"outlined"}))},renderOption:function(e){return a.a.createElement("span",{className:P.a.option},a.a.createElement("span",null,e.name),a.a.createElement(z,{origin:e.origin}))}})),a.a.createElement(W.a,{open:!!s,onClose:j},a.a.createElement(J.a,{elevation:6,variant:"filled",onClose:j,severity:"error"},s)))},X={getSearchResults:function(e,r){return function(){var t=Object(C.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(v({isLoading:!0})),!r.includes("users")){t.next=7;break}return t.t0=n,t.next=5,I(e,"users");case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:if(!r.includes("repos")){t.next=13;break}return t.t2=n,t.next=11,I(e,"repos");case 11:t.t3=t.sent,(0,t.t2)(t.t3);case 13:n(v({isLoading:!1}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearSearchResults:function(){return function(e){e(b({target:"users",result:[]})),e(b({target:"repos",result:[]}))}},clearError:function(){return function(e){e(y({target:"users",error:null})),e(y({target:"repos",error:null}))}}},$=Object(l.b)((function(e){return{combinedResults:L(e),isLoading:e.search.isLoading,error:R(e)}}),X)((function(e){return a.a.createElement(V,e)})),D=(t(62),function(){return a.a.createElement(l.a,{store:j},a.a.createElement($,null))}),Y=t(57),Z=t.n(Y),ee=function(){return a.a.createElement(s.a,{maxWidth:"sm",style:{marginTop:"40px"}},a.a.createElement(u.a,{elevation:12,square:!0},a.a.createElement("header",{className:Z.a.header},a.a.createElement(i.a,{variant:"h4",component:"h1"},"Traverse GitHub"),a.a.createElement(i.a,{variant:"subtitle1",component:"span"},"to find a ",a.a.createElement("strong",null,"user")," or a ",a.a.createElement("strong",null,"repository"))),a.a.createElement("main",{className:Z.a.search},a.a.createElement(D,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[84,1,2]]]);
//# sourceMappingURL=main.af9a1a89.chunk.js.map